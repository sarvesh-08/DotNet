name: slack-integration

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Send a slack notification for the deployment
        id: slack
        uses: slackapi/slack-github-action@v1.27.0
        with:
          # This data can be any valid JSON from a previous step in the GitHub Action
          payload: |
            {
              "channel": "#website",
              "username": "GitHub Actions Bot",
              "icon_url": "https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",
              "text": "Deploy *${{ inputs.release_version }}* to *${{ inputs.environment }}*"
            }
        env:
          SLACK_WEBHOOK_URL: https://hooks.slack.com/services/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
